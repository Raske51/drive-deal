(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{4246:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cars/[id]",function(){return t(9917)}])},9917:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSG:function(){return x},default:function(){return h}});var a=t(5893),r=t(7294),l=t(5675),i=t.n(l),n=t(3755),c=t(6706),o=t(7066),d=t(6501),m=t(1163),x=!0;function h(e){var s,t;let{car:l,isFavorite:x}=e,{user:h}=(0,c.a)(),[u,g]=(0,r.useState)(x),[j,f]=(0,r.useState)(!1),[p,N]=(0,r.useState)(0);if((0,m.useRouter)().isFallback)return(0,a.jsx)("div",{children:"Loading..."});let y=async()=>{if(!h){d.ZP.error("Vous devez \xeatre connect\xe9 pour ajouter des favoris");return}try{f(!0),u?(await o.Z.delete("/api/favorites",{data:{carId:l.id}}),d.ZP.success("Retir\xe9 des favoris")):(await o.Z.post("/api/favorites",{carId:l.id}),d.ZP.success("Ajout\xe9 aux favoris")),g(!u)}catch(e){d.ZP.error("Une erreur est survenue")}finally{f(!1)}};return(0,a.jsx)(n.Z,{children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative h-96",children:[l.images.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{src:l.images[p],alt:"".concat(l.title," - Image ").concat(p+1),fill:!0,className:"object-cover"}),l.images.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{N(e=>0===e?l.images.length-1:e-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("button",{onClick:()=>{N(e=>e===l.images.length-1?0:e+1)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,a.jsx)("button",{onClick:y,disabled:j,className:"absolute top-4 right-4 p-2 rounded-full bg-white shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:(0,a.jsx)("svg",{className:"w-6 h-6 ".concat(u?"text-red-500":"text-gray-400"),fill:u?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.title}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:(s=l.price,new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(s))})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Publi\xe9 le ",(t=l.createdAt,new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric"}).format(new Date(t)))]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["R\xe9f\xe9rence: ",l.id]})]})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Ann\xe9e"}),(0,a.jsx)("p",{className:"mt-1 text-lg text-gray-900",children:l.year})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Kilom\xe9trage"}),(0,a.jsxs)("p",{className:"mt-1 text-lg text-gray-900",children:[l.mileage.toLocaleString("fr-FR")," km"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Carburant"}),(0,a.jsx)("p",{className:"mt-1 text-lg text-gray-900",children:l.fuel.charAt(0).toUpperCase()+l.fuel.slice(1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Transmission"}),(0,a.jsx)("p",{className:"mt-1 text-lg text-gray-900",children:l.transmission.charAt(0).toUpperCase()+l.transmission.slice(1)})]})]}),l.technicalDetails&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"D\xe9tails techniques"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.technicalDetails.power&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Puissance"}),(0,a.jsxs)("p",{className:"mt-1 text-gray-900",children:[l.technicalDetails.power," ch"]})]}),l.technicalDetails.engineSize&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Cylindr\xe9e"}),(0,a.jsxs)("p",{className:"mt-1 text-gray-900",children:[l.technicalDetails.engineSize," cm\xb3"]})]}),l.technicalDetails.doors&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Portes"}),(0,a.jsx)("p",{className:"mt-1 text-gray-900",children:l.technicalDetails.doors})]}),l.technicalDetails.color&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Couleur"}),(0,a.jsx)("p",{className:"mt-1 text-gray-900",children:l.technicalDetails.color})]})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:l.description})]}),l.features.length>0&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\xc9quipements"}),(0,a.jsx)("ul",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-6 gap-y-2",children:l.features.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center text-gray-700",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e]},s))})]}),(0,a.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations vendeur"}),(0,a.jsx)("div",{className:"flex items-start space-x-6",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-gray-700",children:[(0,a.jsx)("span",{className:"font-medium",children:"Type : "}),l.seller.type.charAt(0).toUpperCase()+l.seller.type.slice(1)]}),l.seller.name&&(0,a.jsxs)("p",{className:"text-gray-700 mt-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Nom : "}),l.seller.name]})]})})]})]})]})})})}}},function(e){e.O(0,[424,675,128,755,888,774,179],function(){return e(e.s=4246)}),_N_E=e.O()}]);